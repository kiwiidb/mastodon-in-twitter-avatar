package handler

import (
	"encoding/base64"
	"fmt"
	"image"
	"image/color"
	"image/draw"
	_ "image/jpeg"
	"image/png"
	"net/http"
	"strings"

	"github.com/dghubble/go-twitter/twitter"
	"github.com/koding/multiconfig"
	"golang.org/x/oauth2"
	"golang.org/x/oauth2/clientcredentials"
)

var mastodon = ` data:image/png;base64,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`
var twitterClient *twitter.Client

type Config struct {
	ClientID     string
	ClientSecret string
	TokenUrl     string `default:"https://api.twitter.com/oauth2/token"`
}

func init() {
	//load in conf from env vars
	conf := &Config{}
	multiconfig.New().Load(&conf)

	//construct twitter client
	config := &clientcredentials.Config{
		ClientID:     conf.ClientID,
		ClientSecret: conf.ClientSecret,
		TokenURL:     conf.TokenUrl,
	}

	httpClient := config.Client(oauth2.NoContext)
	twitterClient = twitter.NewClient(httpClient)
}

func Handler(w http.ResponseWriter, r *http.Request) {
	usernames, ok := r.URL.Query()["username"]
	if !ok || len(usernames[0]) < 1 {
		w.WriteHeader(http.StatusBadRequest)
		fmt.Fprintf(w, "Add your twitter username as a query parameter: https://mastodon-in-twitter-avatar.vercel.app/api/mastodon?username=<YOUR_TWITTER_USERNAME>")
		return
	}
	usr, _, err := twitterClient.Users.Show(&twitter.UserShowParams{
		ScreenName: usernames[0],
	})
	if err != nil {
		w.WriteHeader(http.StatusInternalServerError)
		fmt.Fprintf(w, "Oops")
		return
	}
	avatar := strings.Replace(usr.ProfileImageURLHttps, "_normal", "", 1)
	result, err := combineImages(avatar)
	if err != nil {
		w.WriteHeader(http.StatusInternalServerError)
		fmt.Fprintf(w, "Oops")
		return
	}
	err = png.Encode(w, result)
	if err != nil {
		fmt.Println(err)
	}
}

type ImageLayer struct {
	Image image.Image
	XPos  int
	YPos  int
}

func combineImages(imageUrl string) (result *image.RGBA, err error) {

	resp, err := http.Get(imageUrl)
	if err != nil {
		return nil, err
	}
	avatarImg, _, err := image.Decode(resp.Body)
	if err != nil {
		return nil, err
	}
	i := strings.Index(mastodon, ",")
	if i < 0 {
		return nil, err
	}
	// pass reader to NewDecoder
	dec := base64.NewDecoder(base64.StdEncoding, strings.NewReader(mastodon[i+1:]))
	mastodonImg, _, err := image.Decode(dec)
	if err != nil {
		return nil, err
	}
	//create image's background
	bgImg := image.NewRGBA(image.Rect(0, 0, avatarImg.Bounds().Dx(), avatarImg.Bounds().Dy()))

	//set the background color
	draw.Draw(bgImg, bgImg.Bounds(), &image.Uniform{color.Opaque}, image.ZP, draw.Src)

	//looping image layer, higher array index = upper layer
	for _, img := range []ImageLayer{
		{
			Image: avatarImg,
			XPos:  0,
			YPos:  0,
		},
		{
			Image: mastodonImg,
			XPos:  avatarImg.Bounds().Dx() - mastodonImg.Bounds().Dx(),
			YPos:  avatarImg.Bounds().Dy() - mastodonImg.Bounds().Dy(),
		},
	} {
		//set image offset
		offset := image.Pt(img.XPos, img.YPos)

		//combine the image
		draw.Draw(bgImg, img.Image.Bounds().Add(offset), img.Image, image.ZP, draw.Over)
	}
	return bgImg, nil

}
